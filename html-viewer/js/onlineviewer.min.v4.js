var parseJson = function (e, t, n, i, a, o) { var l = toType(a); switch (l) { case "null": case "boolean": case "number": case "string": createDivRow(e, t, n, !1, l, i, a, o); break; case "array": case "object": createDivRow(e, t, n, 0 < ("array" === l ? a : Object.keys(a)).length, l, i, a, o); break; default: toastr.error('Type "' + l + '" is not allowed in JSON.') } }; function createDivRow(e, o, l, t, r, n, s, c) { var d = document.createElement("div"); d.style.display = "Root" === c ? "" : "none", d.tabIndex = -1 - o.length, d.addEventListener("parseJson", function () { if ("array" === r || "object" === r) { var t = ("array" === r ? s : Object.keys(s)).length, n = d.nextElementSibling; if (0 < t && (null === n || n.tabIndex >= d.tabIndex)) { var i = 0, a = o + ("" === c ? "|" : "X"); if ("object" === r) Object.keys(s).sort(function (e, t) { return e.toLowerCase().localeCompare(t.toLowerCase()) }).forEach(function (e) { i++, parseJson(n, a, l + ("array" === r ? "[" + e + "]" : '["' + e + '"]'), e, s[e], t === i ? "End" : "") }); else for (key in s) i++, parseJson(n, a, l + ("array" === r ? "[" + key + "]" : '["' + key + '"]'), key, s[key], t === i ? "End" : "") } } }, !1), d.addEventListener("dblclick", function () { expandOrCollapseForDiv(this) }, !1), d.addEventListener("click", function () { selectRow(d) }, !1), d.addEventListener("mouseover", function () { highlightRow(d) }, !1), d.addEventListener("mouseout", function () { unhighlightRow(d) }, !1), d.addEventListener("mousedown", function (e) { 1 < e.detail && e.preventDefault() }, !1); for (var i = 0; i < o.length; i++)addSymbolImageElementToParent(d, "X" === o[i] ? "space" : "nodeLine"); t ? (addSymbolImageElementToParent(d, "nodeExpand" + c, !1), addSymbolImageElementToParent(d, "nodeCollapse" + c, !0)) : addSymbolImageElementToParent(d, "node" + c); t = "array" === r || "object" === r; addSymbolImageElementToParent(d, r), null !== n && addSpanElementToParent(d, n), null === n || t || addSpanElementToParent(d, ":"), t || addSpanElementToParent(d, "string" === r ? '"' + JSON.stringify(String(s)).slice(1, -1) + '"' : String(s), r), null === e ? treeView.appendChild(d) : insertAfter(e, d) } function insertAfter(e, t) { e.parentNode.insertBefore(t, e) } function addSymbolImageElementToParent(e, t, n) { var i = document.createElement("span"), a = (i.classList.add("img"), void 0 !== n && (i.classList.add("expandable"), !0 === n && (i.style.display = "none"), i.addEventListener("click", function () { e.dispatchEvent(dblclickEvent) }, !1)), t); switch (t) { case "null": case "boolean": case "number": case "string": a = t + "Value" }i.classList.add(a), e.appendChild(i) } function highlightRow(e) { e.classList.add("highlightedRow") } function unhighlightRow(e) { e.classList.remove("highlightedRow") } function selectTextInElement(e, t) { var n = document.createRange(), e = (n.setStart(e.childNodes[0], t ? 1 : 0), n.setEnd(e.childNodes[0], e.textContent.length - (t ? 1 : 0)), window.getSelection()); e.removeAllRanges(), e.addRange(n) } function selectSpanText(e) { var t = '"' === e.textContent[0]; selectTextInElement(e, null === e.nextElementSibling && t) } function selectRowText() { var e, t, n, i = selectedRow.children[selectedRow.children.length - 1]; i.classList.contains("img") || (t = !(e = selectedRow.children[selectedRow.children.length - 3]).classList.contains("img"), n = '"' === i.textContent[0], t ? selectedText = 1 === selectedText ? (selectTextInElement(e, !1), 2) : (selectTextInElement(i, n), 1) : selectTextInElement(i, null === selectedRow.previousElementSibling && n)) } function selectRow(e) { selectedRow !== e && (clearSelection(), e.classList.add("selectedRow"), e.focus(), selectedRow = e, selectedText = 1) } function clearSelection() { null !== selectedRow && (selectedRow.classList.remove("outlineRow"), selectedRow.classList.remove("selectedRow"), selectedRow = null) } function addSpanElementToParent(e, t, n) { var i = document.createElement("span"), t = document.createTextNode(t); i.appendChild(t), i.classList.add("smallIndentLeft"), n && i.classList.add(n), i.addEventListener("dblclick", function (e) { selectSpanText(this), e.stopPropagation() }, !1), e.appendChild(i) } function collapseDiv(e) { expandOrCollapseForDiv(e, !0) } function expandDiv(e) { expandOrCollapseForDiv(e, !1) } function expandAllChildren(e) { null !== selectedRow && expandOrCollapseAll(e, !1, selectedRow) } function collapseToParent() { var e; null !== selectedRow && (null !== (e = isDivRowExpanded(selectedRow)) && e && expandOrCollapseForDiv(selectedRow, !0), expandOrCollapseForDiv(selectedRow, !0), expandOrCollapseForDiv(selectedRow, !0)) } function expandOrCollapseForDiv(e, t) { e.dispatchEvent(parseJsonEvent); var n = isDivRowExpanded(e), i = null !== n && n, a = e.tabIndex; if (void 0 !== t) { if (!t && i) for (var o = e, l = e.nextElementSibling; ;) { if (null === l || l.tabIndex >= a) return void o.click(); l.tabIndex === a - 1 && (o = l), l = l.nextElementSibling } if (t && !i) { var r = e.previousElementSibling; if (null === r) return; for (; r.tabIndex !== a + 1;)r = r.previousElementSibling; return void r.click() } } if (null !== n) { for (var s = e.nextElementSibling; null !== s && !(s.tabIndex >= a);)i ? s.style.display = "none" : a - s.tabIndex == 1 && (s.style.display = "", setExpandable(s, !1)), s = s.nextElementSibling; setExpandable(e, !i) } } function isDivRowExpanded(e) { e = e.getElementsByClassName("expandable"); return 0 < e.length ? 0 === e[1].style.display.length : null } function setExpandable(e, t) { e = e.getElementsByClassName("expandable"); 0 < e.length && (e[0].style.display = t ? "none" : "", e[1].style.display = t ? "" : "none") } function expandOrCollapseAll(e, t, n) { for (var i = !0, a = 0; a < e.children.length; a++) { var o = e.children[a]; if (!0 === t) 0 === a ? (o.style.display = "", setExpandable(o, !1)) : o.style.display = "none"; else if ((void 0 === n || !i || n === o) && (void 0 === n || i || !(o.tabIndex - n.tabIndex < -2))) { if (void 0 !== n && !i && o.tabIndex >= n.tabIndex) break; i = !1, o.dispatchEvent(parseJsonEvent), o.style.display = "", void 0 !== n && o.tabIndex - n.tabIndex == -2 ? setExpandable(o, !1) : setExpandable(o, !0) } } } function collapseAll(e) { if (expandOrCollapseAll(e, !0), expandOrCollapseForDiv(treeView.children[0]), "none" === selectedRow.style.display) for (var t = treeView.children.length - 1; 0 <= t; t--)if ("none" !== treeView.children[t].style.display) { treeView.children[t].click(); break } } function expandAll(e) { expandOrCollapseAll(e, !1) } document.addEventListener("keydown", function (e) { if (e.altKey) switch (pageType) { case "Text": switch (e.code) { case "Digit1": showCharCount(); break; case "Digit2": unescapeEditableDiv(); break; case "Digit3": encodeUrl(); break; case "Digit4": decodeUrl(); break; case "Digit5": escapeHtmlEditableDiv(); break; case "Digit6": unescapeHtmlEditableDiv(); break; case "Digit7": b64EncodeUnicode(); break; case "Digit8": b64DecodeUnicode(); break; case "Digit9": clearTextInput() }break; case "JSON": if (isTextView) switch (e.code) { case "Digit1": switchToTreeMode(); break; case "Digit2": unescapeJson(); break; case "Digit3": formatJson(); break; case "Digit4": minifyJson(); break; case "Digit5": unfoldAll(); break; case "Digit6": foldAll(); break; case "Digit7": insertSample(); break; case "Digit8": clearTextInput() } else switch (e.code) { case "Digit1": switchToTextMode(); break; case "Digit2": expandAll(treeView); break; case "Digit3": collapseAll(treeView); break; case "Digit4": expandAllChildren(treeView); break; case "Digit5": collapseToParent(); break; case "Digit6": copyKey(); break; case "Digit7": copyValue() }break; case "XML": switch (e.code) { case "Digit1": formatXml(); break; case "Digit2": minifyXml(); break; case "Digit3": unfoldAll(); break; case "Digit4": foldAll(); break; case "Digit5": insertSample(); break; case "Digit6": clearTextInput() }break; case "JavaScript": switch (e.code) { case "Digit1": formatJavascript(); break; case "Digit2": minifyJavascript(); break; case "Digit3": unfoldAll(); break; case "Digit4": foldAll(); break; case "Digit5": insertSample(); break; case "Digit6": clearTextInput() }break; case "CSS": switch (e.code) { case "Digit1": formatCss(); break; case "Digit2": minifyCss(); break; case "Digit3": unfoldAll(); break; case "Digit4": foldAll(); break; case "Digit5": insertSample(); break; case "Digit6": clearTextInput() }break; case "HTML": switch (e.code) { case "Digit1": openHtmlPreview(); break; case "Digit2": openHighlightedSyntax(); break; case "Digit3": formatHtml(); break; case "Digit4": unfoldAll(); break; case "Digit5": foldAll(); break; case "Digit6": insertSample(); break; case "Digit7": clearTextInput() } }if (!isTextView && null !== selectedRow) if ("Escape" === e.code) window.getSelection().removeAllRanges(); else if ("Space" === e.code) e.preventDefault(), selectRowText(); else switch (e.code) { case "ArrowLeft": case "ArrowUp": case "ArrowRight": case "ArrowDown": if (e.preventDefault(), "ArrowLeft" === e.code) collapseDiv(selectedRow); else if ("ArrowUp" === e.code) { var t = selectedRow.previousElementSibling; if (null === t) break; for (; ;) { if (null === t) return; if (!isHidden(t)) break; t = t.previousElementSibling } t.click() } else if ("ArrowRight" === e.code) expandDiv(selectedRow); else if ("ArrowDown" === e.code) { for (var n = selectedRow.nextElementSibling; ;) { if (null === n) return; if (!isHidden(n)) break; n = n.nextElementSibling } n.click() } } }); var toType = function (e) { return {}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase() }; function isHidden(e) { return null === e.offsetParent } function getFile(e) { e = e.target; "files" in e && 0 < e.files.length && placeFileContent(e.files[0]) } function placeFileContent(e) { readFileContent(e).then(e => { editor.setValue(e, -1) }).catch(e => console.log(e)) } function readFileContent(e) { let i = new FileReader; return new Promise((t, n) => { i.onload = e => t(e.target.result), i.onerror = e => n(e), i.readAsText(e) }) } function importText() { document.getElementById("inpImport").click() } function exportText() { var e = "online_viewer_net", t = ""; switch (pageType) { case "HTML": t = "text/html"; break; case "XML": t = "text/xml"; break; case "CSS": t = "text/css"; break; case "JavaScript": t = "text/javascript"; break; case "JSON": t = "application/json" }var n, i = new Blob([editor.getValue()], { type: t }); window.navigator.msSaveOrOpenBlob ? window.navigator.msSaveBlob(i, e) : ((n = window.document.createElement("a")).href = window.URL.createObjectURL(i), n.download = e, document.body.appendChild(n), n.click(), document.body.removeChild(n)) } function insertSample() { switch (pageType) { case "JSON": editor.setValue(jsonSample, -1); break; case "JavaScript": editor.setValue(javascriptSample, -1); break; case "XML": case "HTML": return void editor.setValue("XML" === pageType ? xmlSample : htmlSample, -1); case "CSS": return void editor.setValue(cssSample, -1) } } function unescapeJson() { var e = editor.getValue(); editor.setValue(unescapeString(e), -1), editor.scrollToLine(1, !0, !1) } function minifyJson() { var e = parseJsonInputOrSignalError(); void 0 !== e && (editor.setValue(JSON.stringify(e), -1), editor.scrollToLine(1, !0, !1)) } function minifyXml() { var e = editor.getValue(); editor.setValue(vkbeautify.xmlmin(e), -1), editor.scrollToLine(1, !0, !1) } function minifyCss() { var e = editor.getValue(); editor.setValue(vkbeautify.cssmin(e), -1), editor.scrollToLine(1, !0, !1) } function minifyJavascript() { var e = editor.getValue(), e = minify(e); e.error ? toastr.error("The text is not in the JavaScript format.") : (editor.setValue(e.code, -1), editor.scrollToLine(1, !0, !1)) } function formatHtml() { var e = html_beautify(editor.getValue(), { indent_size: 4 }); editor.setValue(e, -1) } function formatJavascript() { var e = js_beautify(editor.getValue(), { indent_size: 4 }); editor.setValue(e, -1) } function formatCss() { var e = editor.getValue(); editor.setValue(vkbeautify.css(e, 4), -1) } function formatXml() { var e = editor.getValue(); editor.setValue(vkbeautify.xml(e, 4), -1) } function formatJson() { var e = parseJsonInputOrSignalError(); void 0 !== e && editor.setValue(JSON.stringify(e, null, 4), -1) } function foldAll() { editor.session.foldAll(), editor.scrollToLine(1, !0, !1) } function unfoldAll() { editor.session.unfold() } function removeChildNodes(e) { for (; e.hasChildNodes();)e.removeChild(e.lastChild) } function encodeUrl() { document.getElementById("editableDiv").textContent = encodeURIComponent(document.getElementById("editableDiv").textContent) } function decodeUrl() { document.getElementById("editableDiv").textContent = decodeURIComponent(document.getElementById("editableDiv").textContent) } function escapeHtmlEditableDiv() { document.getElementById("editableDiv").textContent = escapeHtml(document.getElementById("editableDiv").textContent) } function unescapeHtmlEditableDiv() { document.getElementById("editableDiv").textContent = unescapeHtml(document.getElementById("editableDiv").textContent) } function unescapeEditableDiv() { document.getElementById("editableDiv").textContent = unescapeString(document.getElementById("editableDiv").textContent) } function unescapeString(e) { return e.replace(/\\( [0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{4}|.)/g, function (e) { return /^\\[ 0-7]{1,3}$/.test(e) ? String.fromCharCode(parseInt(e.substring(1), 8)) : /^\\x[0-9A-Fa-f]{1,2}$/i.test(e) || /^\\u[0-9A-Fa-f]{4}$/i.test(e) ? String.fromCharCode(parseInt(e.substring(2), 16)) : { "\\b": "\b", "\\f": "\f", "\\n": "\n", "\\r": "\r", "\\t": "\t", "\\v": "\v", "\\'": "'", '\\"': '"', "\\\\": "\\" }[e] || e }) } function escapeHtml(e) { return e.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;") } function unescapeHtml(e) { return e.replace(/&quot;/g, '"').replace(/&#39;/g, "'").replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&amp;/g, "&") } function b64EncodeUnicode() { var e = document.getElementById("editableDiv").textContent; document.getElementById("editableDiv").textContent = btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g, function (e, t) { return String.fromCharCode("0x" + t) })) } function b64DecodeUnicode() { var e = document.getElementById("editableDiv").textContent; try { document.getElementById("editableDiv").textContent = decodeURIComponent(atob(e).split("").map(function (e) { return "%" + ("00" + e.charCodeAt(0).toString(16)).slice(-2) }).join("")) } catch (e) { toastr.error("The text is not in the base64 format.") } } function clearTextInput() { switch (pageType) { case "XML": case "HTML": case "CSS": case "JSON": case "JavaScript": editor.setValue(""), editor.focus(); break; case "Text": document.getElementById("editableDiv").innerHTML = "" } } function parseJsonOrReturnUndefined(e) { var t; try { t = JSON.parse(e) } catch (e) { t = void 0 } return t } function parseJsonInputOrSignalError() { var e = editor.getValue(), t = parseJsonOrReturnUndefined(e); return void 0 === t && (editor.focus(), 0 === e.length ? toastr.info("The text area is empty. Please enter a JSON text or use the sample button to see an example of one.") : toastr.error("The text doesn't have a valid JSON format.")), t } function makeTreeFromJson(e) { removeChildNodes(treeView), parseJson(null, "", "", null, e, "Root"), setTimeout(function () { treeView.children[0].dispatchEvent(dblclickEvent) }, 10), setTimeout(function () { treeView.children[0].click() }, 10) } function copyKeyOrValue(e) { if (null !== selectedRow) { for (var t = "A root element doesn't have a key to copy.", n = "A collection of array/object values cannot be copied as a single value.", i = "", a = e ? t : n, o = 1; o < selectedRow.children.length; o++)if ("img" !== selectedRow.children[o].classList[0]) { var l = selectedRow.children[o - 1], r = l.classList[l.classList.length - 1]; switch (r) { case "nullValue": case "booleanValue": case "numberValue": case "stringValue": a = e ? o === selectedRow.children.length - 1 ? t : (i = selectedRow.children[o].textContent, "") : (i = selectedRow.children[selectedRow.children.length - 1].textContent, "stringValue" === r && (i = i.substring(1, i.length - 1)), ""); break; case "array": case "object": a = e ? (i = selectedRow.children[o].textContent, "") : n }break } 0 < (a = 0 === a.length && 0 === i.length ? "The " + (e ? "key" : "value") + " has a zero length, cannot be copied." : a).length ? toastr.error(a) : (copyTextToClipboard(i), toastr.success("A " + (e ? "key" : "value") + " has been copied to the clipboard.")) } } function copyKey() { copyKeyOrValue(!0) } function copyValue() { copyKeyOrValue(!1) } function copyTextToClipboard(e) { var t = document.createElement("textarea"); t.style.position = "fixed", t.style.top = 0, t.style.left = 0, t.style.width = "2em", t.style.height = "2em", t.style.padding = 0, t.style.border = "none", t.style.outline = "none", t.style.boxShadow = "none", t.style.background = "transparent", t.value = e, document.body.appendChild(t), t.select(); try { var n = document.execCommand("copy") ? "successful" : "unsuccessful"; console.log("Copying text command was " + n) } catch (e) { console.log("Oops, unable to copy") } document.body.removeChild(t) } function highlight() { $(document).ready(function () { $("pre code").each(function (e, t) { hljs.highlightBlock(t) }) }) } function highlightTextInTreeView(e) { var t = document.getElementById("highlightedCode"), e = (removeChildNodes(t), document.createTextNode(e)); t.appendChild(e), highlight() } function openHtmlPreview() { var e = window.open(""), t = (editor.getValue(), document.createElement("iframe")); t.srcdoc = editor.getValue(), t.style.border = "none", t.style.width = "100%", t.style.height = "100%", t.title = "HTML Online Viewer", e.document.body.style.margin = 0, e.document.body.appendChild(t), e.document.title = t.title } function openHighlightedSyntax() { var e = window.open(""), t = editor.getValue(), n = document.createElement("iframe"); n.srcdoc = '<html><head><link rel="stylesheet" href="//www.onlineviewer.net/html.min.css"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"><\/script><script>hljs.initHighlightingOnLoad();<\/script></head><body><pre style="white-space: pre-wrap;word-wrap: break-word;"><code class="html">' + escapeHtml(t) + "</code></pre></body></html>", n.style.border = "none", n.style.width = "100%", n.style.height = "100%", n.title = "HTML Online Viewer", e.document.body.appendChild(n), e.document.title = n.title } function previewHtml() { var e = document.getElementById("liveFrame"); isFirstState && (document.getElementById("liveFrame").style.background = "", isFirstState = !1), e.srcdoc = editor.getValue() } function changeToDarkMode() { document.getElementById("btnDark").style.display = "none", document.getElementById("btnLight").style.display = "", isFirstState && ((e = document.getElementById("liveFrame")).style.background = 0 == e.srcdoc.length ? "#333" : ""), editor.setTheme("ace/theme/github_dark"); var e = new URL(location); e.searchParams.set("theme", "dark"), history.pushState({}, "", e) } function changeToLightMode() { document.getElementById("btnDark").style.display = "", document.getElementById("btnLight").style.display = "none", document.getElementById("liveFrame").style.background = "", editor.setTheme("ace/theme/chrome"); var e = new URL(location); e.searchParams.delete("theme"), history.pushState({}, "", e) } function switchToTreeMode() { var e = parseJsonInputOrSignalError(); void 0 !== e && (makeTreeFromJson(e), isTextView = !1, textView.style.display = "none", textViewButtons.style.display = "none", treeView.style.display = "", treeViewButtons.style.display = "") } function switchToTextMode() { var e = parseJsonInputOrSignalError(); void 0 !== e && (makeTreeFromJson(e), isTextView = !0, textView.style.display = "", textViewButtons.style.display = "", treeView.style.display = "none", treeViewButtons.style.display = "none", setTimeout(function () { editor.focus(), editor.selectAll() }, 10)) } function showCharCount() { var e; switch (pageType) { case "Text": e = document.getElementById("editableDiv").textContent.length; break; case "XML": case "HTML": case "CSS": case "JSON": e = editor.getValue().length }toastr.info("Number of characters: " + e) } var selectedRow = null, selectedText = 1, isTextView = !0, isFirstState = !0, dblclickEvent = new MouseEvent("dblclick", { view: window, bubbles: !0, cancelable: !0 }), parseJsonEvent = new MouseEvent("parseJson", { view: window, bubbles: !0, cancelable: !0 }), jsonSample = '{"fullName": "John Smith","nickname":null,"member":true,"memberID":12345,"residence": {"streetAddress": "21 2nd Street","city": "New York","state": "NY","postalCode": "10021"},"phoneNumbers": [{ "type": "home", "number": "212 555-1234" },{ "type": "fax", "number": "646 555-4567" }]}', htmlSample = '<!DOCTYPE html>\r\n<html lang="en">\r\n<head>\r\n<meta charset="utf-8">\r\n<title>Test sample</title>\r\n<link rel="icon" href="/favicon.ico">\r\n<style>\r\nbody {\r\n    font-family:Verdana;\r\n    color: #333;\r\n    padding:100px;\r\n}\r\n.testClass{\r\n    background-color:orange;\r\n}\r\n</style>\r\n</head>\r\n\r\n\r\n\r\n\r\n\r\n\x3c!--This is a default HTML sample.--\x3e\r\n\r\n\r\n\r\n\r\n\r\n<body>\r\n<div class="testClass" onclick="clickMe()">\r\nYou see a preview of the default HTML sample.\r\n<br>\r\nClick me to test the JavaScript functionality.\r\n</div>\r\n<script type="text/javascript">\r\nfunction clickMe()\r\n{\r\nvar testClassDiv = document.getElementsByClassName("testClass")[0];\r\nvar testText = testClassDiv.innerHTML;\r\ntestClassDiv.innerHTML = testText.replace(/click me.+?functionality/i, "I was clicked, the JavaScript is working");\r\n}\r\n<\/script>\r\n</body>\r\n</html>', xmlSample = '<?xml version="1.0" encoding="UTF-8"?>\r\n<query lang="en-US">\r\n  <diagnostics>\r\n    <publiclyCallable>true</publiclyCallable>\r\n    <user-time>26</user-time>\r\n    <service-time>25</service-time>\r\n    <build-version>21978</build-version>\r\n  </diagnostics>\r\n  <results>\r\n    <place lang="en-US">\r\n      <woeid>24865670</woeid>\r\n      <placeTypeName code="29">Continent</placeTypeName>\r\n      <name>Africa</name>\r\n    </place>\r\n    <place lang="en-US">\r\n      <woeid>24865675</woeid>\r\n      <placeTypeName code="29">Continent</placeTypeName>\r\n      <name>Europe</name>\r\n    </place>\r\n  </results>\r\n</query>', cssSample = "body {font-family:Verdana;color: #333;padding:100px;}.testClass{background-color:yellow;}", javascriptSample = "function*fibonacci(){let current=0;let next=1;while(!0){const reset=yield current;[current,next]=[next,next+current];if(reset){current=0;next=1}}}", textView = document.getElementById("textView"), textViewButtons = document.getElementById("textViewButtons"), today = new Date; switch (pageType) { case "XML": case "HTML": case "CSS": case "JavaScript": case "JSON": document.getElementById("inpImport").addEventListener("change", getFile); var treeView, treeViewButtons, editor = ace.edit("editor"); if (editor.setTheme("ace/theme/chrome"), editor.setShowPrintMargin(!1), editor.setOption("scrollPastEnd", 3), editor.session.setMode("ace/mode/" + pageType.toLowerCase()), editor.session.setUseWrapMode(!0), editor.focus(), editor.selectAll(), "HTML" === pageType) { let e = new URLSearchParams(document.location.search), t = e.get("theme"); t && "dark" == t.toLowerCase() && changeToDarkMode(), editor.session.on("change", function () { previewHtml() }) } "JSON" === pageType && (treeView = document.getElementById("treeView"), treeViewButtons = document.getElementById("treeViewButtons"), editor.on("paste", function () { editor.getValue().length == editor.getSelectedText().length && setTimeout(function () { switchToTreeMode() }, 10) })); break; case "Text": var editableDiv = document.getElementById("editableDiv"); editableDiv.focus() }switch ($("button").on("mousedown", function (e) { e.preventDefault() }), pageType) { case "JSON": case "Text": case "JavaScript": toastr.options = { positionClass: "toast-top-center" } }let callback = (e, t) => { for (var n of e) "childList" === n.type && n.addedNodes[0] && "DIV" == n.addedNodes[0].nodeName && n.addedNodes[0].shadowRoot && n.addedNodes[0].shadowRoot.querySelector("#ft-floating-toolbar")?.remove() }, observer = new MutationObserver(callback); observer.observe(document.body, { childList: !0 }), document.getElementById("copyright").textContent = "Â© " + today.getFullYear();